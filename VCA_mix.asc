Version 4
SHEET 1 1204 740
WIRE -1184 -1024 -1184 -1088
WIRE -992 -1024 -1184 -1024
WIRE -848 -1024 -912 -1024
WIRE -1184 -976 -1184 -1024
WIRE -848 -928 -848 -1024
WIRE -752 -928 -848 -928
WIRE -640 -928 -672 -928
WIRE -80 -912 -112 -912
WIRE 32 -912 0 -912
WIRE -960 -816 -1056 -816
WIRE -848 -816 -848 -928
WIRE -848 -816 -880 -816
WIRE -752 -816 -848 -816
WIRE -1056 -800 -1056 -816
WIRE -640 -800 -640 -928
WIRE -640 -800 -688 -800
WIRE -480 -800 -640 -800
WIRE -240 -800 -480 -800
WIRE -112 -800 -112 -912
WIRE -112 -800 -160 -800
WIRE -80 -800 -112 -800
WIRE -752 -784 -784 -784
WIRE 32 -784 32 -912
WIRE 32 -784 -16 -784
WIRE -80 -768 -144 -768
WIRE -784 -752 -784 -784
WIRE -384 -720 -384 -736
WIRE -1056 -704 -1056 -720
WIRE -240 -704 -256 -704
WIRE -144 -704 -144 -768
WIRE -144 -704 -160 -704
WIRE -128 -704 -144 -704
WIRE -32 -704 -48 -704
WIRE -32 -688 -32 -704
WIRE -480 -672 -480 -800
WIRE -448 -672 -480 -672
WIRE -112 -656 -240 -656
WIRE -240 -608 -240 -656
WIRE -112 -576 -112 -656
WIRE -384 -560 -384 -624
WIRE -304 -560 -384 -560
WIRE -384 -528 -384 -560
WIRE -240 -448 -240 -512
WIRE -624 -432 -736 -432
WIRE -384 -432 -384 -448
WIRE -736 -384 -736 -432
WIRE -736 -288 -736 -304
WIRE -672 -288 -736 -288
WIRE -624 -288 -624 -432
WIRE -432 -288 -624 -288
WIRE -736 -272 -736 -288
WIRE -672 -272 -672 -288
WIRE -240 -256 -240 -368
WIRE -528 -224 -528 -368
WIRE -432 -224 -528 -224
WIRE -192 -224 -208 -224
WIRE 160 -224 16 -224
WIRE -864 -160 -944 -160
WIRE -736 -160 -736 -192
WIRE -736 -160 -784 -160
WIRE -432 -160 -736 -160
WIRE -1792 -144 -1808 -144
WIRE -1680 -144 -1728 -144
WIRE -1520 -144 -1584 -144
WIRE -1424 -144 -1456 -144
WIRE 16 -128 16 -224
WIRE 48 -128 16 -128
WIRE -944 -112 -944 -160
WIRE 160 -112 160 -224
WIRE 160 -112 112 -112
WIRE 384 -112 160 -112
WIRE -192 -96 -192 -224
WIRE -80 -96 -192 -96
WIRE 48 -96 -80 -96
WIRE -1808 -80 -1808 -144
WIRE -1584 -80 -1584 -144
WIRE -80 -80 -80 -96
WIRE 384 -80 384 -112
WIRE 464 -80 384 -80
WIRE 576 -80 544 -80
WIRE 672 -80 576 -80
WIRE 784 -80 752 -80
WIRE 1072 -48 1056 -48
WIRE 1200 -48 1152 -48
WIRE -944 0 -944 -32
WIRE -1808 16 -1808 0
WIRE -1584 16 -1584 0
WIRE -80 16 -80 0
WIRE 464 32 320 32
WIRE 576 32 576 -80
WIRE 576 32 544 32
WIRE 672 32 576 32
WIRE 784 48 784 -80
WIRE 784 48 736 48
WIRE 944 48 784 48
WIRE 1056 48 1056 -48
WIRE 1056 48 1024 48
WIRE 1072 48 1056 48
WIRE 672 64 640 64
WIRE 1200 64 1200 -48
WIRE 1200 64 1136 64
WIRE 1072 80 1040 80
WIRE 640 96 640 64
WIRE 1040 112 1040 80
WIRE -640 272 -752 272
WIRE -752 320 -752 272
WIRE -752 416 -752 400
WIRE -688 416 -752 416
WIRE -640 416 -640 272
WIRE -448 416 -640 416
WIRE -752 432 -752 416
WIRE -688 432 -688 416
WIRE -256 448 -256 336
WIRE -544 480 -544 336
WIRE -448 480 -544 480
WIRE -208 480 -224 480
WIRE 144 480 0 480
WIRE -880 544 -928 544
WIRE -752 544 -752 512
WIRE -752 544 -800 544
WIRE -448 544 -752 544
WIRE 0 576 0 480
WIRE 32 576 0 576
WIRE -928 592 -928 544
WIRE 144 592 144 480
WIRE 144 592 96 592
WIRE 320 592 320 32
WIRE 320 592 144 592
WIRE -208 608 -208 480
WIRE -96 608 -208 608
WIRE 32 608 -96 608
WIRE -96 624 -96 608
WIRE -928 704 -928 672
WIRE -96 720 -96 704
FLAG -1808 16 0
FLAG -1584 16 0
FLAG -1680 -144 V+
FLAG -336 -288 V+
FLAG -336 -160 V-
FLAG -528 -448 V+
FLAG -944 0 0
FLAG -1056 -704 0
FLAG -672 -272 0
FLAG 80 -144 V+
FLAG 80 -80 V-
FLAG -720 -832 V+
FLAG -720 -768 V-
FLAG -80 16 0
FLAG -352 416 V+
FLAG -352 544 V-
FLAG -544 256 V+
FLAG -688 432 0
FLAG 64 560 V+
FLAG 64 624 V-
FLAG -96 720 0
FLAG -928 704 0
FLAG 32 -784 Vc
FLAG -256 256 Vc
FLAG 704 16 V+
FLAG 704 80 V-
FLAG 640 96 0
FLAG 1104 32 V+
FLAG 1104 96 V-
FLAG 1040 112 0
FLAG -112 -576 0
FLAG -384 -736 V+
FLAG -384 -432 V-
FLAG -1184 -896 V-
FLAG -1184 -1168 V+
FLAG -784 -752 0
FLAG -48 -816 V+
FLAG -48 -752 V-
FLAG -1424 -144 V-
FLAG -32 -688 0
FLAG -256 -704 V+
SYMBOL LM13700 -368 -304 R0
SYMATTR InstName U1
SYMBOL voltage -1808 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -1584 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -12
SYMBOL res -544 -464 R0
SYMATTR InstName R1
SYMATTR Value 30k
SYMBOL res -768 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 30k
SYMBOL res -720 -176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 507
SYMBOL voltage -944 -128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 5 100)
SYMBOL res -256 -464 R0
SYMATTR InstName R5
SYMATTR Value 20k
SYMBOL res -752 -400 R0
SYMATTR InstName R7
SYMATTR Value 493
SYMBOL Opamps\\AD711 80 -176 R0
SYMATTR InstName U2
SYMBOL Opamps\\AD711 -720 -864 R0
SYMATTR InstName U3
SYMBOL res -864 -832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 82k
SYMBOL res -656 -944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2k
SYMBOL res -96 -96 R0
SYMATTR InstName R6
SYMATTR Value 30k
SYMBOL LM13700 -384 400 R0
SYMATTR InstName U4
SYMBOL res -560 240 R0
SYMATTR InstName R9
SYMATTR Value 30k
SYMBOL res -784 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 30k
SYMBOL res -736 528 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 507
SYMBOL res -272 240 R0
SYMATTR InstName R12
SYMATTR Value 22k
SYMBOL res -768 304 R0
SYMATTR InstName R13
SYMATTR Value 493
SYMBOL Opamps\\AD711 64 528 R0
SYMATTR InstName U5
SYMBOL res -112 608 R0
SYMATTR InstName R14
SYMATTR Value 30k
SYMBOL voltage -928 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 3 340)
SYMBOL Opamps\\AD711 704 -16 R0
SYMATTR InstName U6
SYMBOL res 560 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res 768 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res 560 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL Opamps\\AD711 1104 0 R0
SYMATTR InstName U7
SYMBOL res 1040 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 20k
SYMBOL res 1168 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL pnp -304 -512 M180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL npn -448 -720 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res -400 -544 R0
SYMATTR InstName R20
SYMATTR Value 120k
SYMBOL res -896 -1040 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 330k
SYMBOL res -1200 -1184 R0
SYMATTR InstName R22
SYMATTR Value 10k
SYMBOL res -1200 -992 R0
SYMATTR InstName R23
SYMATTR Value 0.1
SYMBOL res -144 -816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 3.3k
SYMBOL res 16 -928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 330k
SYMBOL Opamps\\AD711 -48 -848 R0
WINDOW 3 168 40 Left 2
SYMATTR InstName U8
SYMBOL schottky -1792 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -1456 -160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage -1056 -816 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PWL(0 -5 0.1 5)
SYMBOL res -144 -720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 20k
SYMBOL res -32 -720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 130
TEXT -1224 88 Left 2 !.include LM13700.sub
TEXT -1216 56 Left 2 !.tran .1
TEXT -144 -416 Left 6 ;Exponential
TEXT -568 144 Left 6 ;Linear
